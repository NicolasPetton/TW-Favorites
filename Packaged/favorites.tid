author: Mohammad Rahmani and Andrew Harrison
core-version: >= 5.1.21
created: 20191216195836755
description: Favorites
list: readme license history
modified: 20191223092419688
plugin-type: plugin
source: https://github.com/kookma/TW-Favorites
tags: 
title: $:/plugins/kookma/favorites
type: application/json
version: 4.0.1

{"tiddlers":{"$:/plugins/kookma/favorites/history":{"title":"$:/plugins/kookma/favorites/history","created":"20191216195857105","modified":"20191223092939595","tags":"","type":"text/vnd.tiddlywiki","text":"!! Release 4.0.1\n* Dec 23th, 2019\n* [NEW] favorite folder\n* [NEW] rename folder using inline editbox\n* [NEW] drag and drop between folders\n* [NEW] add new favorites to the begining of list\n* [NEW] favorite manager -  initial idea\n* [NEW] drag and drop a tag pill to add all tiddlers to favorites\n\n!! Release 4.0.1\n* Dec 17th, 2019\n* [NEW] a rewrite of old favorite plugin\n\n!! Release 3.1.0\n* Dec 17th, 2019\n* [NEW] distributed as packaged and plugin folder under Node.js\n* [NEW] on mouse hover on items in side bar the title of tiddler is shown. This is useful when tiddler has caption and its title is not shown\n* [NEW] remove button for non-existent favorite items in Favorites list on the sidebar\n\n!! Release 3.0.12\n* Nov 1st, 2018\n* released by Mohammad Rahmani\n* [NEW] favorite icons\n* [NEW] caption for sidebar tab\n* [NEW] minor issue fixed\n!! Release 3.0.5\n* Aug 3rd, 2017\n* released by ''Andrew Harrison''\n* url: http://favorites.tiddlyspot.com/"},"$:/plugins/kookma/favorites/image":{"title":"$:/plugins/kookma/favorites/image","created":"20181010141333403","creator":"Mohammad","modified":"20191217152740053","modifier":"Mohammad","path":"c-3.3-16.6-15.1-27.3-30.3-27.3-8.5,0-17.7,3.5-26.7,10.1-9.1-6.8-18.3-10.3-26.9-10.3-15.2,0-27.1,10.8-30.3,27.6-4.8,24.9 10.6,58 55.7,76 0.5,0.2 1,0.3 1.5,0.3 0.5,0 1-0.1 1.5-0.3 45-18.4 60.3-51.4 55.5-76.1zm-57,67.9c-39.6-16.4-53.3-45-49.2-66.3 2.4-12.7 11.2-21 22.3-21 7.5,0 15.9,3.6 24.3,10.5 1.5,1.2 3.6,1.2 5.1,0 8.4-6.7 16.7-10.2 24.2-10.2 11.1,0 19.8,8.1 22.3,20.7 4.1,21.1-9.5,49.6-49,66.3z","tags":"$:/tags/Image","type":"text/vnd.tiddlywiki","text":"\\define my-svg()\n<svg class='tc-image-favorites tc-image-button' width='22pt' height='22pt' viewBox=\"0 0 129 129\"><g><path stroke='#999'  stroke-width='5' d='m$(m)$$(path)$'/></g></svg>\n\\end\n\n<$vars m='121.6,40.1' path={{!!path}}>\n<<my-svg>>\n</$vars>"},"$:/plugins/kookma/favorites/license":{"title":"$:/plugins/kookma/favorites/license","created":"20191216195857106","modified":"20191219050234261","tags":"","type":"text/vnd.tiddlywiki","text":"Distributed under an MIT license.\n\nCopyright (c) 2018-2020 [[Mohammad Rahmani|https://github.com/kookma]]\nCopyright (c) 2017-2018 [[Andrew Harrison|http://favorites.tiddlyspot.com/]]\n\n<<<\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n<<<\n"},"$:/plugins/kookma/favorites/macros/create-new-folder":{"title":"$:/plugins/kookma/favorites/macros/create-new-folder","created":"20191222170722237","modified":"20191223081727818","tags":"$:/tags/Macro","type":"text/vnd.tiddlywiki","text":"\\define new-fav-folder(folder-name:\"\")\n<$button tooltip=\"create new folder\" class=\"tc-btn-invisible\">{{$:/core/images/new-button}} Create new folder\n<$set name=datesuffix value=<<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">> >\n<$action-createtiddler \n  $basetitle={{{[<folderpath>addsuffix[-]addsuffix<datesuffix>]}}} \n\tcaption=<<__folder-name__>>/>\n</$set>\n<!-- clear edit-text temp tiddler-->\n<$action-setfield $tiddler=<<tempFolderTid>> text=\"\"/>\n</$button>\n\\end\n"},"$:/plugins/kookma/favorites/macros/folding-editor":{"title":"$:/plugins/kookma/favorites/macros/folding-editor","created":"20191222134036727","modified":"20191223075008704","tags":"$:/tags/Macro","type":"text/vnd.tiddlywiki","text":"\\define folding-editor(tiddler)\n<$set name=\"state\" value={{{ [[$:/temp/folding-editor/]addsuffix<currentTiddler>addsuffix<__tiddler__>] }}}>\n<$reveal stateTitle=<<state>> type=\"nomatch\" text=\"edit\">\n<span style=\"float: right;\">\n<$button class=\"tc-btn-invisible\" setTitle=<<state>> setTo=\"edit\">{{$:/core/images/edit-button}}</$button>\n</span>\n<$list filter=\"[<__tiddler__>!has[caption]]\">\nUntitled, set caption...\n</$list>\n<$transclude tiddler=<<__tiddler__>> field=\"caption\"/>\n</$reveal>\n<$reveal stateTitle=<<state>> type=\"match\" text=\"edit\">\n<span style=\"float: right;\">\n<$button class=\"tc-btn-invisible\" setTitle=<<state>> setTo=\"\">{{$:/core/images/done-button}}</$button>\n</span>\n<$edit-text class=\"\" tiddler=<<__tiddler__>> field=\"caption\" tag=\"input\" default=\"\" placeholder=\"enter a folder title\"/>\n</$reveal>\n</$set>\n\\end"},"$:/plugins/kookma/favorites/macros/open-options":{"title":"$:/plugins/kookma/favorites/macros/open-options","created":"20191222183601789","modified":"20191222183754121","tags":"$:/tags/Macro","type":"text/vnd.tiddlywiki","text":"\\define show-options()\n<$button class=\"tc-btn-invisible\" to=\"$:/plugins/kookma/favorites/manager\">\n{{$:/core/images/options-button}} Manager\n</$button>\n\\end"},"$:/plugins/kookma/favorites/macros":{"title":"$:/plugins/kookma/favorites/macros","created":"20191218200806381","modified":"20191222180623317","tags":"show-contents","type":"text/vnd.tiddlywiki","text":"\\define doDelete()\n<$vars stateTid=\"me\">\n<$button popup=<<stateTid>> class=\"tc-btn-invisible\">{{$:/core/images/delete-button}}</$button>\n<$reveal state=<<stateTid>> type=\"popup\" position=\"right\" animate=\"yes\">\n<div class=\"tc-block-dropdown-wrapper\">\n<div class=\"tc-block-dropdown tc-edit-type-dropdown\">\n<div class=\"tc-dropdown-item-plain\">\n<$set name=\"resultCount\" value=\"\"\"<$count filter={{$:/temp/advancedsearch}}/>\"\"\">\nAre you sure you wish to delete <<resultCount>> tiddler(s)\n</$set>\n</div>\n<div class=\"tc-dropdown-item-plain\">\n<$button class=\"tc-btn\">\n<$action-deletetiddler $filter={{$:/temp/advancedsearch}}/>\nDelete ?\n</$button>\n</div>\n</div>\n</div>\n</$reveal>\n</$vars>\n\\end\n\n\\define doExport()\n<span class=\"kk-custom-drop-down\">\n<$macrocall $name=\"exportButton\" exportFilter=\"$(filter)$\" lingoBase=\"$:/language/Buttons/ExportTiddlers/\"/>\n</span>\n\\end"},"$:/plugins/kookma/favorites/macros2":{"title":"$:/plugins/kookma/favorites/macros2","created":"20191218202308638","modified":"20191222180415061","tags":"show-contents","type":"text/vnd.tiddlywiki","text":"\\define tidinput()   xx-tidinputs\n\\define doSearch()\n<span class=\"sd-input\"><$edit-text tiddler=<<tidinput>>   tag=\"input\" default=\"\" placeholder=\"tiddlers\" /></span>\n\\end\n"},"$:/plugins/kookma/favorites/manager":{"title":"$:/plugins/kookma/favorites/manager","created":"20191222174813401","modified":"20191223081941678","tags":"","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/create-new-folder\n\n\\define folderpath() $:/favorites/folder\n\\define favlistTid() $:/favorites/favlist\n\\define folders() [prefix<folderpath>]\n\n\n\\define remove-all-favs()\n<$button> Remove all favorites\n<$list filter=\"[<favlistTid>] [subfilter<folders>]\">\n<$action-setfield \n  $tiddler=<<currentTiddler>> \n\t$field=\"list\" $value=\"\"/>\n</$list>\n</$button>\n\\end\n\n\\define remove-all-folders()\n<$button> Remove all folders\n<$action-deletetiddler $filter=<<folders>> />\n</$button>\n\\end\n\n<<alert danger \"Experimental - ''~DoNot'' use for any real project!\">>\n\n!! Export\n\n!! Delete\n<<<\nfavorite operation<br>\n\n<<remove-all-favs>>\n<<<\n\n!! Folder\n<<<\n<<remove-all-folders>>\n<$vars tempFolderTid=\"$:/temp/favorites/new-folder\">\n<$edit-text tag=input tiddler=<<tempFolderTid>> default=\"\" placeholder=\"enter a name\"/>\n<$macrocall $name=new-fav-folder folder-name={{{[<tempFolderTid>get[text]]}}} />\n</$vars>\n<<<\n\n"},"$:/plugins/kookma/favorites/readme":{"title":"$:/plugins/kookma/favorites/readme","created":"20181101141032553","creator":"Mohammad","modified":"20191217192647413","modifier":"Mohammad","type":"text/vnd.tiddlywiki","text":"<style> .dsvg svg{width: 1.2em;height: 1.2em;vertical-align: middle;}</style>\n\n!! How to use\nThe Favorites plugin adds the <span class=dsvg>{{$:/plugins/kookma/favorites/image}}</span> button to the tiddler view Toolbar and also the `Favorites` tab to the sidebar.\n\nThe button becomes `red` when selected and then the tiddler appears in the list on the `Favorites` tab.  The list can be sorted using drag and drop of items.\n\nA tiddler can be removed from the `Favorites` tab by either\n\n* opening it and clicking again on the <span class=dsvg>{{$:/plugins/kookma/favorites/image}}</span> button. or\n* click on remove button in `Favorites` list on the sidebar\n\n!! Credits\nAll credits go to [[Andrew Harrison|http://favorites.tiddlyspot.com/]] who originally developed the favorites plugin\n"},"$:/plugins/kookma/favorites/sidebar":{"title":"$:/plugins/kookma/favorites/sidebar","caption":"Favorites","created":"20191222152207752","creator":"Mohammad","list-before":"$:/core/ui/SideBar/Recent","modified":"20191223070843747","modifier":"Mohammad","tags":"$:/tags/SideBar","type":"text/vnd.tiddlywiki","text":"\\whitespace trim\n\\import $:/plugins/kookma/favorites/sliderx\n\\import $:/plugins/kookma/favorites/macros/create-new-folder\n\n\\define folderpath() $:/favorites/folder\n\\define favlistTid() $:/favorites/favlist\n\\define folders() [prefix<folderpath>]\n\\define remove() -[[$(currentTiddler)$]]\n\n\\define drop-actions()\n<!-- case 1: tiddler is already in favlist and moved between folders by drag and drop -->\n<$reveal type=match default=<<favlistTid>> text={{{[<actionTiddler>listed[]match<favlistTid>]}}} >\n<$vars oldFolder={{{ [<actionTiddler>listed[]]+[subfilter<folders>]-[<folder>]+[limit[1]] }}}>\n<$action-listops $tiddler=<<oldFolder>> $field=\"list\" $subfilter=\"-[<actionTiddler>]\" />\n</$vars>\n</$reveal>\n<!-- case 2: tiddler is NOT already in favlist and dropped from outside favorites -->\n<$reveal type=nomatch default=<<favlistTid>> text={{{[<actionTiddler>listed[]match<favlistTid>]}}} >\n<$action-listops $tiddler=<<favlistTid>> $field='list' $subfilter=\"[<actionTiddler>]\"/>\n</$reveal>\n<!-- move it to the target folder -->\n<$action-listops $tiddler=<<folder>> $subfilter=\"+[insertbefore:currentTiddler<actionTiddler>]\"/>\n\\end\n\n\\define placeholder()\n<div class=\"tc-droppable-placeholder\">&nbsp;</div>\n\\end\n\n\\define droppable-item()\n\\whitespace trim\n<$droppable actions=<<drop-actions>>>\n<<placeholder>>\n<div>\n<$transclude tiddler=\"$:/plugins/kookma/favorites/templates/delete-item\" field=text/> \n<$transclude tiddler=\"$:/plugins/kookma/favorites/templates/show-link\" field=text/>\n</div>\n</$droppable>\n\\end\n\n\\define droppable-itemxx()\n\\whitespace trim\n<!--add extra space for drag and drop after last item-->\n<$droppable actions=<<drop-actions>>>\n<<placeholder>><div style=\"margin-top:-6px;margin-bottom:-6px;\">&nbsp;</div>\n</$droppable>\n\\end\n\n\n\\define display-folder-is-empty()\n<div style=\"padding-left:20px;\">\n<$droppable actions=<<drop-actions>>>\n<<placeholder>>\n//Folder is empty//\n</$droppable>\n</div>\n\\end\n\n\\define display-fav-folder(folder)\n<$vars folder=<<__folder__>> >\n<!--check if folder is empty-->\n<$list filter=\"[list<folder>limit[1]]\" emptyMessage=<<display-folder-is-empty>> variable=ignore>\n<div style=\"padding-left:20px;\">\n<$list filter=\"[list<folder>]\"><!--display all tiddlers in folder list field one by one -->\n<$list filter=\"[<favlistTid>contains<currentTiddler>]\" variable=ignore><!--check if the tiddler is a favorite list-->\n<$macrocall $name=droppable-item />\n</$list>\n</$list>\n<<droppable-itemxx>>\n</div>\n</$list>\n</$vars>\n\\end\n\n\\define display-fav-notcategorized()\n<$vars folder=<<favlistTid>> >\n<b><$macrocall $name=folding-editor tiddler=<<folder>> /></b>\n<!--check if favlistTid is empty -->\n<$list filter=\"[list<folder>limit[1]]\" emptyMessage=<<display-folder-is-empty>> variable=ignore>\n<div style=\"padding-left:20px;\">\n<$list filter=\"[list<folder>]\">\n<$list filter=\"[<currentTiddler>listed[]]+[subfilter<folders>count[]match[0]]\" variable=ignore>\n<$macrocall $name=droppable-item />\n</$list>\n</$list>\n<<droppable-itemxx>>\n</div>\n</$list>\n</$vars>\n\\end\n\n\n\n<!-- create the sidebar tab -->\n<div class=\"kk-favorites\">\n<<new-fav-folder>> &nbsp; <<show-options>>\n<hr>\n\n<!--show uncategorized favorites -->\n<<display-fav-notcategorized>>\n\n<!-- show all favorite folders -->\n<$list filter=<<folders>> variable=favfolder >\n<div><!--create a div for each folder-->\n<$macrocall $name=sliderx\n   title=<<favfolder>> \n\t content=\"\"\"<$macrocall $name=\"display-fav-folder\" folder=<<favfolder>> />\"\"\" />\n</div>\n</$list>\n</div>"},"$:/plugins/kookma/favorites/sliderx":{"title":"$:/plugins/kookma/favorites/sliderx","created":"20191220123602267","modified":"20191222152736606","tags":"show-contents","type":"text/vnd.tiddlywiki","text":"\\define sliderx(title, content)\n<$set name=\"revealState\" filter={{{ [[$:/temp/favorits/]addsuffix<__title__>addsuffix<qualify>] }}}>\n<$reveal type=\"nomatch\" state=<<revealState>> text=\"yes\">\n    <$button class=\"tc-btn-invisible tc-tiddlylink\" set=<<revealState>> setTo=\"yes\">\n      {{$:/core/images/right-arrow}}\n    </$button>\n  </$reveal>\n  <$reveal type=\"match\" state=<<revealState>> text=\"yes\">\n    <$button class=\"tc-btn-invisible tc-tiddlylink\" set=<<revealState>> setTo=\"no\">\n      {{$:/core/images/down-arrow}}\n    </$button>\n  </$reveal>\n  <b><$macrocall $name=folding-editor tiddler=<<__title__>> /></b>\n<$reveal type=\"match\" state=<<revealState>> text=\"yes\">\n$content$\n</$reveal>\n</$set>\n\\end"},"$:/plugins/kookma/favorites/styles/main.css":{"title":"$:/plugins/kookma/favorites/styles/main.css","button-color":"red","button-outline-color":"red","caption":"Favorites","created":"20181010142320082","creator":"Mohammad","modified":"20191219201617775","modifier":"Mohammad","tab-icon-outline-color":"#000","tab-icon-selected-color":"#ff0","tab-icon-unselected-color":"#999","tags":"$:/tags/Stylesheet","type":"text/vnd.tiddlywiki","text":".tc-tab-buttons + .tc-favorites-hidden {\n    display: none;\n}\n.tc-tab-buttons button.tc-tab-selected {\n    fill: {{!!tab-icon-selected-color}};\n    stroke: {{!!tab-icon-outline-color}}; \n}\n.tc-tab-buttons button:not(.tc-tab-selected) {\n    fill: {{!!tab-icon-unselected-color}};\n}\n.tc-favorites {\n    stroke: {{!!button-outline-color}};\n    stroke-width:5;\n    fill: {{!!button-color}};\n}\n.tc-image-star-filled {\n    height:1em;\n    width:1em;\n}\n"},"$:/plugins/kookma/favorites/styles/style.css":{"title":"$:/plugins/kookma/favorites/styles/style.css","created":"20191219075310949","modified":"20191219204105054","tags":"$:/tags/Stylesheet","type":"text/css","text":".sd-input textarea:focus, .sd-input input:focus { outline: none;}\n.sd-input textarea, .sd-input input { border:none; border-bottom: 1px dotted gray; margin-left:0px; width:75%;}\n\n.kk-custom-drop-down .tc-drop-down{min-width:60px;}\n\n.kk-favorites svg{\n    fill:#aaaaaa;\n}\n.kk-favorites button:hover svg {\n    fill: #000000; \n}\n\n.kk-btn-mini svg { font-size: 0.7em; fill: #bbb; }"},"$:/plugins/kookma/favorites/templates/delete-item":{"title":"$:/plugins/kookma/favorites/templates/delete-item","created":"20191220075034126","modified":"20191220075623545","tags":"show-contents","type":"text/vnd.tiddlywiki","text":"<$button class=\"tc-btn-invisible kk-btn-mini\" tooltip=\"remove non-existent tiddler\">\n{{$:/core/images/close-button}}\n<$action-listops $tiddler=<<favlistTid>> $field=\"list\" $subfilter=<<remove>>/>\n<$action-listops $tiddler=<<folder>> $field=\"list\" $subfilter=<<remove>>/>\n</$button>&nbsp;"},"$:/plugins/kookma/favorites/templates/show-link":{"title":"$:/plugins/kookma/favorites/templates/show-link","created":"20191220074823880","modified":"20191220075606564","tags":"show-contents","type":"text/vnd.tiddlywiki","text":"<$link to={{!!title}} tooltip=<<currentTiddler>> >\n<$view field=\"caption\">\n <$view field=\"title\"/>\n</$view>\n</$link><br>"},"$:/plugins/kookma/favorites/viewtoolbar":{"title":"$:/plugins/kookma/favorites/viewtoolbar","caption":"{{$:/language/Buttons/Favorites/Caption}}","created":"20181010141620348","creator":"Mohammad","description":"{{$:/language/Buttons/Favorites/Hint}}","list-after":"$:/core/ui/Buttons/more-tiddler-actions","modified":"20191223070628874","modifier":"Mohammad","tags":"$:/tags/ViewToolbar show-contents","type":"text/vnd.tiddlywiki","text":"\\define favlistTid() $:/favorites/favlist\n\\define add() [[$(currentTiddler)$]]+[putfirst[]]\n\\define remove() -[[$(currentTiddler)$]]\n\\define my-svg()\n<svg class='tc-image-favorites tc-image-button' width='22pt' height='22pt' viewBox='0 0 129 129'><g><path fill='$(fill)$' stroke='$(stroke)$' stroke-width='5' d='m$(m)$$(path)$'/></g></svg>\n\\end\n\n<$list filter='[list<favlistTid>is[current]]'><$button tooltip={{$:/language/Buttons/Favorites/Hint}} aria-label={{$:/language/Buttons/Favorites/Caption}} class=<<tv-config-toolbar-class>>>\n<$action-listops $tiddler=<<favlistTid>> $field='list' $subfilter=<<remove>>/>\n<$list filter='[<tv-config-toolbar-icons>prefix[yes]]'>\n<$vars fill={{$:/plugins/kookma/favorites/styles/main.css!!button-color}} stroke={{$:/plugins/kookma/favorites/styles/main.css!!button-outline-color}} m='121.6,40.1' path={{$:/plugins/kookma/favorites/image!!path}}>\n<<my-svg>>\n</$vars>\n</$list>\n<$list filter='[<tv-config-toolbar-text>prefix[yes]]'>\n<span class='tc-btn-text'>\n<$text text={{$:/language/Buttons/Favorites/Caption}}/>\n</span>\n</$list>\n</$button></$list><$list filter='[all[current]!list<favlistTid>]'><$button tooltip={{$:/language/Buttons/Choose/Hint}} aria-label={{$:/language/Buttons/Choose/Caption}} class=<<tv-config-toolbar-class>>>\n<$action-listops $tiddler=<<favlistTid>> $field='list' $subfilter=<<add>>/>\n<$list filter='[<tv-config-toolbar-icons>prefix[yes]]'>\n{{$:/plugins/kookma/favorites/image}}\n</$list>\n<$list filter='[<tv-config-toolbar-text>prefix[yes]]'>\n<span class='tc-btn-text'>\n<$text text={{$:/language/Buttons/Choose/Caption}}/>\n</span>\n</$list>\n</$button></$list>"},"$:/language/Buttons/Choose/Caption":{"title":"$:/language/Buttons/Choose/Caption","created":"20191216200037793","modified":"20191217161250209","type":"text/vnd.tiddlywiki","text":"favorite"},"$:/language/Buttons/Choose/Hint":{"title":"$:/language/Buttons/Choose/Hint","created":"20191216200037953","modified":"20191216200037953","type":"text/vnd.tiddlywiki","text":"Add to favorites list"},"$:/language/Buttons/Favorites/Caption":{"title":"$:/language/Buttons/Favorites/Caption","created":"20191216200037937","modified":"20191216200037937","type":"text/vnd.tiddlywiki","text":"favorite"}}}